---
title: 'Client methods'
metaTitle: 'Client methods'
toc: true
tocDepth: 5
---

Client-level methods are prefixed by `$`.

## <inlinecode>$disconnect()</inlinecode>

The `$disconnect()` method closes the database connections that were established when `$connect` was called and stops the process that was running Prisma's query engine. See [Connection management](/concepts/components/prisma-client/working-with-prismaclient/connection-management) for an overview of `$connect()` and `$disconnect()`.

### Remarks

- `$disconnect()` returns a `Promise`, so you should call it inside an `async` function with the `await` keyword.

### Reference

```ts
$disconnect(): Promise<void>
```

## <inlinecode>$connect()</inlinecode>

The `$connect()` method establishes a physical connection to the database via Prisma's query engine. See [Connection management](/concepts/components/prisma-client/working-with-prismaclient/connection-management) for an overview of `$connect()` and `$disconnect()`.

### Remarks

- `$connect()` returns a `Promise`, so you should call it inside an `async` function with the `await` keyword.

### Reference

```ts
$connect(): Promise<void>
```

## <inlinecode>$on()</inlinecode>

The `$on()` method allows you to subscribe to [logging events](#log) or the [exit hook](/concepts/components/prisma-client/working-with-prismaclient/connection-management#exit-hooks).

## <inlinecode>$use()</inlinecode>

The `$use()` method adds [middleware](/concepts/components/prisma-client/middleware) <span class="concept"></span>:

```ts
prisma.$use(async (params, next) => {
  console.log('This is middleware!')
  // Modify or interrogate params here

  return next(params)
})
```

### <inlinecode>next</inlinecode>

`next` represents the "next level" in the middleware stack, which could be the next middleware or the Prisma Query, depending on [where in the stack you are](/concepts/components/prisma-client/middleware#running-order-and-the-middleware-stack).

### <inlinecode>params</inlinecode>

`params` is an object with information to use in your middleware.

| Parameter          | Description                                                                                            |
| :----------------- | :----------------------------------------------------------------------------------------------------- |
| `action`           | The query type - for example, `create` or `findMany`.                                                  |
| `args`             | Arguments that were passed into the query - for example, `where`, `data`, or `orderBy`                 |
| `dataPath`         | Populated if you use the [fluent API](/concepts/components/prisma-client/relation-queries#fluent-api). |
| `model`            | The model type - for example, `Post` or `User`.                                                        |
| `runInTransaction` | Returns `true` if the query ran in the context of a [transaction](#transaction).                       |

<Tip>

If you need the `model` property as a string, use: `String(params.model)`

</Tip>

Example parameter values:

```js
{
  args: { where: { id: 15 } },
  dataPath: [ 'select', 'author', 'select', 'posts' ],
  runInTransaction: false,
  action: 'findMany',
  model: 'Post'
}
```

### Reference

`params` accepts the following type:

```ts file=index.d.ts
export type MiddlewareParams = {
  model?: ModelName
  action: PrismaAction
  args: any
  dataPath: string[]
  runInTransaction: boolean
}

export declare const ModelName: {
  User: 'User'
  Post: 'Post'
}

export declare type ModelName = typeof ModelName[keyof typeof ModelName]
```

### Examples

See [middleware examples](/concepts/components/prisma-client/middleware#examples) <span class="concept"></span>.

## <inlinecode>$executeRaw()</inlinecode>

See: [Raw database access (`$executeRaw()`)](/concepts/components/prisma-client/raw-database-access#executeraw).

## <inlinecode>$queryRaw()</inlinecode>

See: [Raw database access (`$queryRaw()`)](/concepts/components/prisma-client/raw-database-access#queryraw).

## <inlinecode>$runCommandRaw()</inlinecode>

See: [Raw database access (`$runCommandRaw()`)](/concepts/components/prisma-client/raw-database-access#runcommandraw).

## <inlinecode>$transaction()</inlinecode>

See: [Transactions](/concepts/components/prisma-client/transactions).

## <inlinecode>$metrics</inlinecode>

Prisma metrics give you a detailed insight into how Prisma Client interacts with your database. You can use this insight to help diagnose performance issues with your application. Learn more: [Metrics](/concepts/components/prisma-client/metrics).

Prisma metrics has the following methods:

- `$metrics.json()`: [Retrieves Prisma metrics in JSON format](/concepts/components/prisma-client/metrics#retrieve-metrics-in-json-format).
- `$metrics.prometheus()`: [Retrieves Prisma metrics in Prometheus format](/concepts/components/prisma-client/metrics#retrieve-metrics-in-prometheus-format).

## <inlinecode>$extends</inlinecode>

With `$extends`, you can create and use Prisma Client extensions to add functionality to Prisma Client in the following ways:

- `model`: add custom methods to your models
- `client`: add custom methods to your client
- `query`: create custom Prisma Client queries
- `result`: add custom fields to your query results

Learn more: [Prisma Client extensions](/concepts/components/prisma-client/client-extensions).

